; Tests for io routines
;
; Copyright (C) 2020 Lawrence Woodman <lwoodman@vlifesystems.com>
; Licensed under a BSD 0-Clause licence. Please see 0BSD_LICENCE.md for details.


.include    "standard.asq"
.include    "io.asq"
.include    "test.asq"


            sble  z z main


;========================================
;           Data Storage
;========================================
newlineCh:  .ascii "\n"


;========================================
;           Macro Definitions
;========================================

.macro      Newline
            sble  newlineCh OUT
.endm


.macro      test_printInt16
            test::start testName end
            Newline
            io::printStr expect0
            Newline
            io::printInt16 #0
            Newline
            io::printStr expect1
            Newline
            io::printInt16 #1
            Newline
            io::printStr expect10
            Newline
            io::printInt16 #10
            Newline
            io::printStr expect123
            Newline
            io::printInt16 #123
            Newline
            io::printStr expectm123
            Newline
            io::printInt16 #-123
            Newline
            io::printStr expect10201
            Newline
            io::printInt16 #10201
            Newline
            jump  end
expect0:    .asciiz "Should print 0"
expect1:    .asciiz "Should print 1"
expect10:   .asciiz "Should print 10"
expect123:  .asciiz "Should print 123"
expectm123: .asciiz "Should print -123"
expect10201: .asciiz "Should print 10201"
testName:   .asciiz "printInt16"
end:
.endm


;========================================
;           Main
;========================================

main:       test_printInt16
            sble  z z HALT
